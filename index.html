<!doctype html>
<html lang="en-US">

<head>
    <meta charset="utf-8" />
    <meta http-equiv="Content-type" content="text/html; charset=utf-8" />
    <title>SiftFox - Dashboard</title>
    <meta name="description" content="demo" />
    <meta name="Author" content="Hai Minh Vu" />

    <!-- mobile settings -->
    <meta name="viewport" content="width=device-width, maximum-scale=1, initial-scale=1, user-scalable=0" />

    <!-- WEB FONTS -->
    <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600,700,300italic,400italic,600italic" rel="stylesheet" type="text/css" />
    <!-- Ionicons -->
    <link rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">

    <!-- CORE CSS -->
    <link href="assets/plugins/bootstrap/css/bootstrap.min.css" rel="stylesheet" type="text/css" />

    <!-- THEME CSS -->
    <link href="assets/css/essentials.css" rel="stylesheet" type="text/css" />
    <link href="assets/css/layout_main.css" rel="stylesheet" type="text/css" />
    <link href="assets/css/color_scheme/green.css" rel="stylesheet" type="text/css" id="color_scheme" />

    <!-- ICON -->
    <link rel='shortcut icon' type='image/x-icon' href='favicon.ico' />
</head>
<!--
		.boxed = boxed version
	-->

<body class="smoothscroll enable-animation">


    <!-- WRAPPER -->
    <div id="wrapper" class="clearfix">

        <aside id="aside">

            <nav id="sideNav">
                <!-- MAIN MENU -->
                <ul class="nav nav-list">
                    <li class="active">
                        <!-- dashboard -->
                        <a class="dashboard" href="index.html">
                            <!-- warning - url used by default by ajax (if eneabled) -->
                            <i class="main-icon fa fa-dashboard"></i> <span>Dashboard</span>
                        </a>
                    </li>
                    <li>
                        <a href="#">
                            <i class="fa fa-angle-right pull-right"></i>
                            <i class="main-icon fa fa-gears"></i> <span>Services</span>
                        </a>
                        <ul>
                            <!-- submenus -->
                            <li><a href="page-mds.html">Bloomberg Terminal</a></li>
                            <li><a href="page-hardware.html">Virtual Desktop</a></li>
                            <li><a href="page-software.html">Software</a></li>
                            <li><a href="page-turrets.html">IPC Dealerboard</a></li>
                            <li><a href="page-deskphone.html">Desk Phone</a></li>
                            <li><a href="page-mobilephone.html">Mobile Phone</a></li>
                        </ul>
                    </li>
                    <!--<li>
							<a href="#">
								<i class="main-icon fa fa-bar-chart"></i> <span>Reports</span>
							</a>
						</li>-->
                </ul>
            </nav>

            <span id="asidebg"><!-- aside fixed background --></span>
        </aside>
        <!-- /ASIDE -->


        <!-- HEADER -->
        <header id="header">

            <!-- Mobile Button -->
            <button id="mobileMenuBtn"></button>

            <!-- Logo -->
            <span class="logo pull-left">
					<!--<img src="assets/images/logo_with_text.png" alt="admin panel" height="35" />-->
					<img src="assets/images/logo_with_text.png" alt="admin panel" height="20" style="margin-top:5px;" />
				</span>

            <!--<form method="get" action="page-search.html" class="search pull-left hidden-xs">
					<input type="text" class="form-control" name="k" placeholder="Search for something..." />
				</form>-->

            <nav>

                <!-- OPTIONS LIST -->
                <ul class="nav pull-right">

                    <!-- USER OPTIONS -->
                    <li class="dropdown pull-left">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown" data-hover="dropdown" data-close-others="true">
                            <img class="user-avatar" alt="" src="assets/images/avatars/adam.png" height="34" />
                            <span class="user-name">
									<span class="hidden-xs">
										Adam Mayer <i class="fa fa-angle-down"></i>
									</span>
                            </span>
                        </a>
                        <ul class="dropdown-menu hold-on-click">
                            <li>
                                <!-- my inbox -->
                                <a href="#"><i class="fa fa-envelope"></i> Inbox
										<span class="pull-right label label-danger">5</span>
									</a>
                            </li>
                            <li>
                                <!-- settings -->
                                <a href="#"><i class="fa fa-cogs"></i> Settings</a>
                            </li>

                            <li class="divider"></li>

                            <li>
                                <!-- lockscreen -->
                                <a href="page-lock.html"><i class="fa fa-lock"></i> Lock</a>
                            </li>
                            <li>
                                <!-- logout -->
                                <a href="page-login.html"><i class="fa fa-power-off"></i> Log Out</a>
                            </li>
                        </ul>
                    </li>
                    <!-- /USER OPTIONS -->

                </ul>
                <!-- /OPTIONS LIST -->

            </nav>

        </header>
        <!-- /HEADER -->


        <!--
				MIDDLE
			-->
        <section id="middle">
            <div id="page-header" class="clearfix">
                <div class="page-header">
                    <h1>Dashboard</h1>
                    <ol class="breadcrumb">
                        <li><a href="index.html">Home</a></li>
                        <li class="active">Dashboard</li>
                    </ol>
                </div>
            </div>

            <div id="content" class="dashboard padding-20">

                <div class="row">

                    <div class="col-md-6">
                        <!-- Widget: user widget style 1 -->
                        <div class="box box-widget widget-user">
                            <!-- Add the bg color to the header using any of the bg-* classes -->
                            <div class="widget-user-header bg-teal-active text-center">
                                <h3 class="widget-user-username">Firm-wide Impact</h3>
                            </div>
                            <div class="widget-user-image">
                                <img class="img-circle" src="assets/images/logo.png" alt="User Avatar">
                            </div>
                            <div class="box-footer">
                                <div class="row">
                                    <div class="col-sm-4 border-right">
                                        <div class="description-block">
                                            <h5 class="description-header">$5.5M</h5>
                                            <span class="description-text">COST IMPACT</span>
                                        </div>
                                        <!-- /.description-block -->
                                    </div>
                                    <!-- /.col -->
                                    <div class="col-sm-4 border-right">
                                        <div class="description-block">
                                            <h5 class="description-header">27,500</h5>
                                            <span class="description-text">REMOVAL REQUESTS</span>
                                        </div>
                                        <!-- /.description-block -->
                                    </div>
                                    <!-- /.col -->
                                    <div class="col-sm-4">
                                        <div class="description-block">
                                            <h5 class="description-header">$165K</h5>
                                            <span class="description-text">SOCIAL IMPACT</span>
                                        </div>
                                        <!-- /.description-block -->
                                    </div>
                                    <!-- /.col -->
                                </div>
                                <!-- /.row -->
                            </div>
                            <!-- /.box-footer -->
                            <!--<div class="bg-teal-active">
									<a href="#" class="small-box-footer">More info <i class="fa fa-arrow-circle-right"></i></a>
								</div>-->
                        </div>
                        <!-- /.widget-user -->
                    </div>
                    <!-- /.col -->

                    <div class="col-md-6">
                        <!-- Widget: user widget style 1 -->
                        <div class="box box-widget widget-user">
                            <!-- Add the bg color to the header using any of the bg-* classes -->
                            <div class="widget-user-header bg-light-blue-active text-center">
                                <h3 class="widget-user-username">Your Impact</h3>
                            </div>
                            <div class="widget-user-image">
                                <img class="img-circle" src="assets/images/avatars/adam.png" alt="User Avatar">
                            </div>
                            <div class="box-footer">
                                <div class="row">
                                    <div class="col-sm-4 border-right">
                                        <div class="description-block">
                                            <h5 class="description-header">$20,415</h5>
                                            <span class="description-text">COST IMPACT</span>
                                        </div>
                                        <!-- /.description-block -->
                                    </div>
                                    <!-- /.col -->
                                    <div class="col-sm-4 border-right">
                                        <div class="description-block">
                                            <h5 class="description-header">21</h5>
                                            <span class="description-text">REMOVAL REQUESTS</span>
                                        </div>
                                        <!-- /.description-block -->
                                    </div>
                                    <!-- /.col -->
                                    <div class="col-sm-4">
                                        <div class="description-block">
                                            <h5 class="description-header">$612</h5>
                                            <span class="description-text">SOCIAL IMPACT</span>
                                        </div>
                                        <!-- /.description-block -->
                                    </div>
                                    <!-- /.col -->
                                </div>
                                <!-- /.row -->
                            </div>
                            <!-- /.box-footer -->
                            <!--<div class="bg-light-blue-active">
									<a href="#" class="small-box-footer">More info <i class="fa fa-arrow-circle-right"></i></a>
								</div>-->
                        </div>
                        <!-- /.widget-user -->
                    </div>
                    <!-- /.col -->

                </div>
                <!-- /BOXES -->

                <div class="margin-bottom-15 height-20">
                </div>

                <div id="panel-1" class="panel panel-default">
                    <div class="panel-heading box-danger">
                        <span class="title elipsis">
								<strong>YOUR COSTS</strong> <!-- panel title -->
							</span>

                        <!-- right options -->
                        <ul class="options pull-right list-inline">
                            <li>
                                <a href="#" class="opt panel_colapse" data-toggle="tooltip" title="Colapse" data-placement="bottom"></a>
                            </li>
                            <li><a href="#" class="opt panel_fullscreen hidden-xs" data-toggle="tooltip" title="Fullscreen" data-placement="bottom"><i class="fa fa-expand"></i></a></li>
                        </ul>
                        <!-- /right options -->

                    </div>

                    <!-- panel content -->
                    <div class="panel-body">

                        <div class="col-md-6">
                            <div class="info-box info-box-navy margin-bottom-20 asset-box" data-url="page-mds.html">
                                <span class="info-box-icon bg-navy" title="Your Impact"><i class="et-search text-white"></i></span>
                                <div class="info-box-content text-center">
                                    <h4 class="nomargin">Bloomberg Terminal</h4>
                                    <div class="col-sm-6">
                                        <span class="info-box-text hidden-xs"># of Services</span>
                                        <span class="info-box-number">5</span>
                                    </div>

                                    <div class="col-sm-6">
                                        <span class="info-box-text hidden-xs">Annual Cost</span>
                                        <span class="info-box-number"><small>$</small>23,058.84</span>
                                    </div>
                                </div>
                                <!-- /.info-box-content -->
                            </div>
                            <!-- /.info-box -->

                            <div class="info-box info-box-red margin-bottom-20 asset-box" data-url="page-turrets.html">
                                <span class="info-box-icon bg-red" title="Your Impact"><i class="et-adjustments text-white"></i></span>
                                <div class="info-box-content text-center">
                                    <h4 class="nomargin">IPC Dealerboard</h4>
                                    <div class="col-sm-6">
                                        <span class="info-box-text hidden-xs"># of Devices</span>
                                        <span class="info-box-number">2</span>
                                    </div>

                                    <div class="col-sm-6">
                                        <span class="info-box-text hidden-xs">Annual Cost</span>
                                        <span class="info-box-number"><small>$</small>18,797.05</span>
                                    </div>
                                </div>
                                <!-- /.info-box-content -->
                            </div>
                            <!-- /.info-box -->

                            <div class="info-box info-box-green margin-bottom-20 asset-box" data-url="page-hardware.html">
                                <span class="info-box-icon bg-green" title="Your Impact"><i class="et-desktop text-white"></i></span>
                                <div class="info-box-content text-center">
                                    <h4 class="nomargin">Virtual Desktop</h4>
                                    <div class="col-sm-6">
                                        <span class="info-box-text hidden-xs"># of Sessions</span>
                                        <span class="info-box-number">2</span>
                                    </div>

                                    <div class="col-sm-6">
                                        <span class="info-box-text hidden-xs">Annual Cost</span>
                                        <span class="info-box-number"><small>$</small>890</span>
                                    </div>
                                </div>
                                <!-- /.info-box-content -->
                            </div>
                            <!-- /.info-box -->

                        </div>

                        <div class="col-md-6">

                            <div class="info-box info-box-blue margin-bottom-20 asset-box" data-url="page-mobilephone.html">
                                <span class="info-box-icon bg-blue" title="Your Impact"><i class="et-chat text-white"></i></span>
                                <div class="info-box-content text-center">
                                    <h4 class="nomargin">Mobile Phone</h4>
                                    <div class="col-sm-6">
                                        <span class="info-box-text hidden-xs"># of Accounts</span>
                                        <span class="info-box-number">1</span>
                                    </div>

                                    <div class="col-sm-6">
                                        <span class="info-box-text hidden-xs">Annual Cost</span>
                                        <span class="info-box-number"><small>$</small>1,500</span>
                                    </div>
                                </div>
                                <!-- /.info-box-content -->
                            </div>
                            <!-- /.info-box -->

                            <div class="info-box info-box-orange margin-bottom-20 asset-box" data-url="page-software.html">
                                <span class="info-box-icon" title="Your Impact"><i class="et-browser text-white"></i></span>
                                <div class="info-box-content text-center">
                                    <h4 class="nomargin">Software</h4>
                                    <div class="col-sm-6">
                                        <span class="info-box-text hidden-xs"># of Licenses</span>
                                        <span class="info-box-number">8</span>
                                    </div>

                                    <div class="col-sm-6">
                                        <span class="info-box-text hidden-xs">Annual Cost</span>
                                        <span class="info-box-number"><small>$</small>2,758.68</span>
                                    </div>
                                </div>
                                <!-- /.info-box-content -->
                            </div>
                            <!-- /.info-box -->

                            <div class="info-box info-box-teal margin-bottom-20 asset-box" data-url="page-deskphone.html">
                                <span class="info-box-icon bg-teal" title="Your Impact"><i class="et-phone text-white"></i></span>
                                <div class="info-box-content text-center">
                                    <h4 class="nomargin">Desk Phone</h4>
                                    <div class="col-sm-6">
                                        <span class="info-box-text hidden-xs"># of Lines</span>
                                        <span class="info-box-number">2</span>
                                    </div>

                                    <div class="col-sm-6">
                                        <span class="info-box-text hidden-xs">Annual Cost</span>
                                        <span class="info-box-number"><small>$</small>3,600</span>
                                    </div>
                                </div>
                                <!-- /.info-box-content -->
                            </div>
                            <!-- /.info-box -->

                        </div>

                    </div>
                    <!-- /panel content -->

                </div>
                <!-- /PANEL -->

                <div id="panel-2" class="panel panel-default">
                    <div class="panel-heading box-primary">
                        <span class="title elipsis">
								<strong>Year-To-Date</strong> <!-- panel title -->
							</span>

                        <!-- right options -->
                        <ul class="options pull-right list-inline">
                            <li>
                                <a href="#" class="opt panel_colapse" data-toggle="tooltip" title="Colapse" data-placement="bottom"></a>
                            </li>
                            <li><a href="#" class="opt panel_fullscreen hidden-xs" data-toggle="tooltip" title="Fullscreen" data-placement="bottom"><i class="fa fa-expand"></i></a></li>
                        </ul>
                        <!-- /right options -->

                    </div>

                    <!-- panel content -->
                    <div class="panel-body nopadding">

                        <div class="row">
                            <div class="col-lg-10 col-md-9 padding-10">
                                <canvas id="ytd-chart" style="padding-left: 20px;" height="350px"></canvas>
                            </div>
                            <!-- /.col -->
                            <div class="col-lg-2 col-md-3">
                                <div class="padding-10 box-pane-right" style="min-height: 325px;">

                                    <ul class="list-unstyled">
                                        <li>
                                            <label class="radio">
                                                <input type="radio" name="radio-btn" class="asset-type" value="1" checked="checked">
                                                <i></i> Firm Savings
                                            </label>
                                        </li>

                                        <li>
                                            <label class="radio">
                                                <input type="radio" name="radio-btn" class="asset-type" value="0">
                                                <i></i> Your Savings
                                            </label>
                                        </li>
                                        <li>
                                            <label class="radio">
                                                <input type="radio" name="radio-btn" class="asset-type" value="3">
                                                <i></i> Social Impact
                                            </label>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                            <!-- /.col -->
                        </div>
                        <!-- /.row -->

                    </div>
                    <!-- /.panel-body -->

                </div>
                <!-- /PANEL -->

            </div>

            <footer class="main-footer">
                <div class="pull-right hidden-xs">
                    <b>Version</b> 1.0
                </div>
                <strong>Copyright &copy; 2017 <a href="#">SiftFox</a>.</strong> All rights reserved.
            </footer>
        </section>
        <!-- /MIDDLE -->

    </div>




    <!-- JAVASCRIPT FILES -->
    <script type="text/javascript">
        var plugin_path = 'assets/plugins/';
    </script>
    <script type="text/javascript" src="assets/plugins/jquery/jquery-2.1.4.min.js"></script>
    <script type="text/javascript" src="assets/js/app.js"></script>

    <!-- PAGE LEVEL SCRIPT -->
    <script type="text/javascript">
        loadScript(plugin_path + 'chart.chartjs/Chart.min.js', function() {

            $(".asset-box").on("click", function(event) {
                var url = $(this).data("url");
                window.location = url;
            });

            var mds = [],
                vd = [],
                sw = [],
                ipc = [],
                dp = [],
                mb = [];

            var bankMds = [33000, 87000, 57750, 29000];
            var bankIpc = [27000, 71250, 47500, 23750];
            var bankVd = [62000, 75000, 70000, 54000];
            var bankSw = [43000, 116000, 77000, 38000];
            var bankMb = [35000, 93000, 62000, 31000];
            var bankDp = [18000, 46000, 30000, 15000];

            var personalMds = [1150, 1300, 1500, 850];
            var personalIpc = [];
            var personalVd = [];
            var personalSw = [500, 600, 800, 300];
            var personalMb = [0, 1500, 0, 0];
            var personalDp = [1800, 0, 0, 0];

            var months = ["Q1", "Q2", "Q3", "Q4"];
            var areaChart = null;

            if ($("#ytd-chart").length > 0) {

                populateChart();

                $('.asset-type').on("change", function() {
                    populateChart();
                });
            }

            function populateChart() {


                var checkedVal = $('input[name="radio-btn"]:checked').val();
                if (checkedVal == '0') {
                    mds = personalMds;
                    ipc = personalIpc;
                    vd = personalVd;
                    sw = personalSw;
                    mb = personalMb;
                    dp = personalDp;

                    populateCostImpactChart(mds, ipc, vd, mb, sw, dp);
                } else if (checkedVal == '1') {
                    mds = bankMds;
                    ipc = bankIpc;
                    vd = bankVd;
                    sw = bankSw;
                    mb = bankMb;
                    dp = bankDp;

                    populateCostImpactChart(mds, ipc, vd, mb, sw, dp);
                } else {
                    populateSocialImpactChart();
                }
            }

            function populateCostImpactChart(mds, ipc, vd, mb, sw, dp) {
                var datasets = [];
                if (mds.length > 0) {
                    datasets.push({
                        label: "Bloomberg Terminal",
                        data: mds,
                        backgroundColor: "rgba(0, 31, 63,0.6)",
                        borderColor: "rgba(0, 31, 63,1)",
                        pointBorderColor: "rgba(0, 31, 63,1)",
                        pointHoverBackgroundColor: "rgba(0, 31, 63,1)",
                        pointHoverBorderColor: "rgba(220,220,220,1)",

                        fill: false,
                        lineTension: 0.1,
                        borderCapStyle: 'butt',
                        borderDash: [],
                        borderDashOffset: 0.0,
                        borderJoinStyle: 'miter',
                        pointBackgroundColor: "#fff",
                        pointBorderWidth: 1,
                        pointHoverRadius: 5,
                        pointHoverBorderWidth: 2,
                        pointRadius: 1,
                        pointHitRadius: 10,
                        spanGaps: false
                    });
                }

                if (ipc.length > 0) {
                    datasets.push({
                        label: "IPC Dealerboard",
                        data: ipc,
                        backgroundColor: "rgba(255, 65, 54,0.6)",
                        borderColor: "rgba(255, 65, 54,1)",
                        pointBorderColor: "rgba(255, 65, 54,1)",
                        pointHoverBackgroundColor: "rgba(255, 65, 54,1)",
                        pointHoverBorderColor: "rgba(220,220,220,1)",

                        fill: false,
                        lineTension: 0.1,
                        borderCapStyle: 'butt',
                        borderDash: [],
                        borderDashOffset: 0.0,
                        borderJoinStyle: 'miter',
                        pointBackgroundColor: "#fff",
                        pointBorderWidth: 1,
                        pointHoverRadius: 5,
                        pointHoverBorderWidth: 2,
                        pointRadius: 1,
                        pointHitRadius: 10,
                        spanGaps: false
                    });
                }

                if (vd.length > 0) {
                    datasets.push({
                        label: "Virtual Desktop",
                        data: vd,
                        backgroundColor: "rgba(46, 204, 64,0.6)",
                        borderColor: "rgba(46, 204, 64,1)",
                        pointBorderColor: "rgba(46, 204, 64,1)",
                        pointHoverBackgroundColor: "rgba(46, 204, 64,1)",
                        pointHoverBorderColor: "rgba(220,220,220,1)",

                        fill: false,
                        lineTension: 0.1,
                        borderCapStyle: 'butt',
                        borderDash: [],
                        borderDashOffset: 0.0,
                        borderJoinStyle: 'miter',
                        pointBackgroundColor: "#fff",
                        pointBorderWidth: 1,
                        pointHoverRadius: 5,
                        pointHoverBorderWidth: 2,
                        pointRadius: 1,
                        pointHitRadius: 10,
                        spanGaps: false
                    });
                }

                if (mb.length > 0) {
                    datasets.push({
                        label: "Mobile Phone",
                        data: mb,
                        backgroundColor: "rgba(0, 116, 217,0.6)",
                        borderColor: "rgba(0, 116, 217,1)",
                        pointBorderColor: "rgba(0, 116, 217,1)",
                        pointHoverBackgroundColor: "rgba(0, 116, 217,1)",
                        pointHoverBorderColor: "rgba(220,220,220,1)",

                        fill: false,
                        lineTension: 0.1,
                        borderCapStyle: 'butt',
                        borderDash: [],
                        borderDashOffset: 0.0,
                        borderJoinStyle: 'miter',
                        pointBackgroundColor: "#fff",
                        pointBorderWidth: 1,
                        pointHoverRadius: 5,
                        pointHoverBorderWidth: 2,
                        pointRadius: 1,
                        pointHitRadius: 10,
                        spanGaps: false
                    });
                }

                if (sw.length > 0) {
                    datasets.push({
                        label: "Software",
                        data: sw,
                        backgroundColor: "rgba(255, 133, 27,0.6)",
                        borderColor: "rgba(255, 133, 27,1)",
                        pointBorderColor: "rgba(255, 133, 27,1)",
                        pointHoverBackgroundColor: "rgba(255, 133, 27,1)",
                        pointHoverBorderColor: "rgba(220,220,220,1)",

                        fill: false,
                        lineTension: 0.1,
                        borderCapStyle: 'butt',
                        borderDash: [],
                        borderDashOffset: 0.0,
                        borderJoinStyle: 'miter',
                        pointBackgroundColor: "#fff",
                        pointBorderWidth: 1,
                        pointHoverRadius: 5,
                        pointHoverBorderWidth: 2,
                        pointRadius: 1,
                        pointHitRadius: 10,
                        spanGaps: false
                    });
                }

                if (dp.length > 0) {
                    datasets.push({
                        label: "Desk Phone",
                        data: dp,
                        backgroundColor: "rgba(57, 204, 204,0.6)",
                        borderColor: "rgba(57, 204, 204,1)",
                        pointBorderColor: "rgba(57, 204, 204,1)",
                        pointHoverBackgroundColor: "rgba(57, 204, 204,1)",
                        pointHoverBorderColor: "rgba(220,220,220,1)",

                        fill: false,
                        lineTension: 0.1,
                        borderCapStyle: 'butt',
                        borderDash: [],
                        borderDashOffset: 0.0,
                        borderJoinStyle: 'miter',
                        pointBackgroundColor: "#fff",
                        pointBorderWidth: 1,
                        pointHoverRadius: 5,
                        pointHoverBorderWidth: 2,
                        pointRadius: 1,
                        pointHitRadius: 10,
                        spanGaps: false
                    });
                }

                var areaChartData = {
                    labels: months,
                    datasets: datasets
                };

                if (areaChart != null) {
                    areaChart.destroy();
                }

                areaChartCanvas = $("#ytd-chart").get(0);
                ctx = areaChartCanvas.getContext("2d");

                areaChart = new Chart(ctx, {
                    type: 'bar',
                    data: areaChartData,
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        tooltips: {
                            mode: 'label',
                            bodySpacing: 5,
                            callbacks: {
                                label: function(tooltipItems, data) {
                                    var val = tooltipItems.yLabel;
                                    if (val >= 1000) {
                                        val = val / 1000;
                                        val = val.toFixed(0);
                                        val = val.replace(/\B(?=(\d{3})+(?!\d))/g, ',') + 'k';
                                    }
                                    return data.datasets[tooltipItems.datasetIndex].label + ': ' + val;
                                }
                            }
                        },
                        scales: {
                            yAxes: [{
                                ticks: {
                                    callback: function(label, index, labels) {
                                        var val = label / 1000;
                                        val = val.toFixed(0);
                                        val = val.replace(/\B(?=(\d{3})+(?!\d))/g, ',') + 'k';
                                        return val;
                                    }
                                },
                                scaleLabel: {
                                    display: true,
                                    labelString: '1k = 1000'
                                }
                            }]
                        }
                    }

                });

                return datasets;
            }

            function populateSocialImpactChart() {
                var firmSocialImpact = [6540, 14640, 10350, 5730];
                var personalSocialImpact = [105, 108, 84, 34];
                var datasets = [{
                    label: "Your Impact",
                    data: personalSocialImpact,
                    backgroundColor: "rgba(255, 65, 54,0.6)",
                    borderColor: "rgba(255, 65, 54,1)",
                    pointBorderColor: "rgba(255, 65, 54,1)",
                    pointHoverBackgroundColor: "rgba(255, 65, 54,1)",
                    pointHoverBorderColor: "rgba(220,220,220,1)",
                    pointBackgroundColor: "#fff",
                    pointBorderWidth: 1,
                    pointHoverRadius: 5,
                    pointHoverBorderWidth: 2,
                    pointRadius: 5,
                    pointHitRadius: 10
                }];

                var areaChartData = {
                    labels: months,
                    datasets: datasets
                };

                if (areaChart != null) {
                    areaChart.destroy();
                }

                areaChartCanvas = $("#ytd-chart").get(0);
                ctx = areaChartCanvas.getContext("2d");

                areaChart = new Chart(ctx, {
                    type: 'line',
                    data: areaChartData,
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        tooltips: {
                            mode: 'label',
                            bodySpacing: 5,
                            callbacks: {
                                label: function(tooltipItems, data) {
                                    var val = tooltipItems.yLabel;
                                    if (val >= 1000) {
                                        val = val / 1000;
                                        val = val.toFixed(0);
                                        val = val.replace(/\B(?=(\d{3})+(?!\d))/g, ',') + 'k';
                                    }
                                    return data.datasets[tooltipItems.datasetIndex].label + ': ' + val;
                                }
                            }
                        },
                        scales: {
                            yAxes: [{
                                ticks: {
                                    callback: function(label, index, labels) {
                                        if (label > 1000) {
                                            var val = label / 1000;
                                            val = val.toFixed(0);
                                            val = val.replace(/\B(?=(\d{3})+(?!\d))/g, ',') + 'k';
                                            return val;
                                        }

                                        if (Number.isInteger(label)) {
                                            return label;
                                        }
                                    }
                                },
                                scaleLabel: {
                                    display: true,
                                    labelString: '1k = 1000'
                                }
                            }]
                        }
                    }

                });

                setTimeout(function() {
                    datasets.push({
                        label: "Firm Impact",
                        data: firmSocialImpact,
                        backgroundColor: "rgba(48, 187, 187, 0.6)",
                        borderColor: "rgba(48, 187, 187, 1)",
                        pointBorderColor: "rgba(48, 187, 187, 1)",
                        pointHoverBackgroundColor: "rgba(48, 187, 187, 1)",
                        pointHoverBorderColor: "rgba(220,220,220,1)",
                        pointBackgroundColor: "#fff",
                        pointBorderWidth: 1,
                        pointHoverRadius: 5,
                        pointHoverBorderWidth: 2,
                        pointRadius: 5,
                        pointHitRadius: 10
                    });
                    areaChart.update();
                }, 1000);

                return datasets;
            }
        });
    </script>
</body>

</html>